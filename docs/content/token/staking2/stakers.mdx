---
title: How to Stake FLOW
sidebar_title: For Stakers
---

<Callout type="warning">

  This guide is for developers who wish to stake FLOW with the help of a **node operator**. 
  If you wish to operate your own node, please read the [power user guide](/token/staking2/power-users).

</Callout>

# Introduction

This guide covers the technical integration required for a **token holder (TH)** and **node operator (NO)** 
to jointly fund and operate a staked Flow node.

Both parties have separate roles in this relationship:

- **Node Operator:** Manages the node infrastructure but _does not hold_ any FLOW tokens.
- **Token Holder:** Provides restricted, indirect access to their FLOW tokens for the sole purpose of staking.

This guide assumes that the **token holder** has already established a 
trusted relationship with a **node operator**.

# Setup

These are the steps required to set up the integration between a **token holder** and a **node operator**.

_Note: The corresponding **node operator** steps are outlined in a 
[separate guide for node operators](/token/staking2/node-operators)._

## 1. Fetch node operator information

To fetch the node operator information for an address's staking proxy, the token holder must use use script TH.04:

`stakingProxy/sh_get_node_info.cdc`

Script arguments:

| Argument     | Type    | Purpose |
|--------------|---------|---------|
| **account**  | Address | Specifies the address to get the staking proxy's node info node info for. |

Script returns:

The `StakingProxy.NodeInfo` struct containing the details for the node. If no NodeInfo is available, the script will fail.

## 2. Register node & grant staking access to the node operator

To register the node as the token holder account's staker, the token holder must use  use transaction TH.05:

`stakingProxy/sh_register_node.cdc`

Transaction arguments:

| Argument    | Type    | Purpose |
|-------------|---------|---------|
| **address** | Address | The node operator address. |
| **nodeID**  | String  | The `id` from the NodeInfo. |
| **amount**  | UFix64  | The number of FLOW tokens to stake. |

# Staking Actions

## Stake New Tokens

To stake new tokens via the proxy, the token holder must use use transaction TH.06:

`lockedTokens/staker/stake_new_tokens.cdc`

Transaction arguments:

| Argument   | Type   | Purpose |
|------------|--------|---------|
| **amount** | UFix64 | The quantity of new FLOW tokens to add to the user's stake. |


## Stake Unbonded Tokens

To stake unbonded tokens via the proxy, the token holder must use transaction TH.07:

`lockedTokens/staker/stake_unlocked_tokens.cdc`

Transaction arguments:

| Argument   | Type   | Purpose |
|------------|--------|---------|
| **amount** | UFix64 | The quantity of unbonded FLOW tokens to add to the user's stake. |

## Stake Rewarded Tokens

To stake rewarded tokens via the proxy, the token holder must use transaction TH.08:

`lockedTokens/staker/stake_rewarded_tokens.cdc`

Transaction arguments:

| Argument   | Type   | Purpose |
|------------|--------|---------|
| **amount** | UFix64 | The quantity of rewarded FLOW tokens to add to the user's stake. |

## Unstake Tokens

To unstake their tokens via the proxy, the token holder must use transaction TH.09:

`lockedTokens/staker/unstake_all.cdc`

Transaction arguments:

None.

**Note that this will unstake all of the user's staked tokens.**

## Withdraw Unbonded Tokens

To withdraw unbonded tokens (tokens that were previously staked and then unstaked) via the proxy, the token holder must use transaction TH.10:

`lockedTokens/staker/withdraw_unlocked_tokens.cdc`

Transaction arguments:

| Argument   | Type   | Purpose |
|------------|--------|---------|
| **amount** | UFix64 | The quantity of unbonded FLOW tokens to withdraw from the proxy. |

## Withdraw Rewarded Tokens

To withdraw rewarded tokens via the proxy, the token holder must use transaction TH.11:

`lockedTokens/staker/withdraw_rewarded_tokens.cdc`

Transaction arguments:

| Argument   | Type   | Purpose |
|------------|--------|---------|
| **amount** | UFix64 | The quantity of rewarded FLOW tokens to withdraw from the proxy. |
