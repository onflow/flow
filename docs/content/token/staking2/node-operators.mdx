---
title: How to be a Flow Node Operator
sidebar_title: For Node Operators
---

# Introduction

This guide covers the technical integration required for a **node operator (NO)** to operate
a staked Flow node using locked FLOW provided by a **token holder (TH)**.

Both parties have separate roles in this relationship:

- **Node Operator:** Manages the node infrastructure but _does not hold_ any FLOW tokens.
- **Token Holder:** Provides restricted, indirect access to their FLOW tokens for the sole purpose of staking.

This guide assumes that the **node operator** has already established a 
trusted relationship with a **token holder**.

# Setup

These are the steps taken by a **node operator** to set up the integration with a **token holder**.

_Note: The corresponding **token holder** steps are outlined in a 
[separate guide for token holders](/token/staking2/stakers)._

## 1. Create a node operator account

This step can be skipped if the **node operator** already has an account.

To create a node operator account, the node operator must use transaction [../transactions/node-operator-no#](NO.01):

`stakingProxy/sh_setup_node_account.cdc`

Transaction arguments:

none.

## 2. Create a new `NodeInfo` entry

To create a NodeInfo entry, the node operator must use transaction [../transactions/#staking-with-stakingproxynodestakerproxy](NO.02):

`stakingProxy/sh_add_node_info.cdc`

Transaction arguments:

| Argument              | Type   | Purpose |
|-----------------------|--------|---------|
| **id**                | String | The unique identifier for the node. |
| **role**              | UInt8  | The role number for the node, see FlowIDTableStaking.cdc . |
| **networkingAddress** | String | The node's networking address. |
| **networkingKey**     | String | The node's networking key. |
| **stakingKey**        | String | The node's staking key. |

## 3. Confirm staking access with token holder

After the `NodeInfo` object has been created and published, 
the **token holder** uses it to initiate a staking request. 
After this, the **token holder** passes a `StakingProxy.NodeStakerProxy`
capability to the **node operator** that allows them to perform staking operations.

The **node operator** should confirm that they have access to this capability.

# Staking Actions

## Stake New Tokens

To stake new tokens, the node operator must use use transaction [../transactions/#staking-with-stakingproxynodestakerproxy](NO.05):

`stakingProxy/sh_stake_new_tokens.cdc`

Transaction arguments:

| Argument   | Type   | Purpose |
|------------|--------|---------|
| **nodeID** | String | The unique identifier for the node. |
| **amount** | UFix64 | The quantity of new FLOW tokens to add to the stake. |

## Re-Stake Unstaked Tokens

To re-stake previously unstaked tokens, the node operator must use use transaction [../transactions/#staking-with-stakingproxynodestakerproxy](NO.06):

`stakingProxy/sh_stake_unstaked_tokens.cdc`

Transaction arguments:

| Argument   | Type   | Purpose |
|------------|--------|---------|
| **nodeID** | String | The unique identifier for the node. |
| **amount** | UFix64 | The quantity of previously unstaked FLOW tokens to add to the stake. |

## Unstake Tokens

To unstake **all previously staked** tokens, the node operator must use use transaction [../transactions/#staking-with-stakingproxynodestakerproxy](NO.07):

`stakingProxy/sh_unstake_all.cdc`

Transaction arguments:

| Argument   | Type   | Purpose |
|------------|--------|---------|
| **nodeID** | String | The unique identifier for the node. |

## Withdraw Unstaked Tokens

To withdraw previously unstaked tokens, the node operator must use use transaction [../transactions/#staking-with-stakingproxynodestakerproxy](NO.08):

`stakingProxy/sh_withdraw_unstaked.cdc`

Transaction arguments:

| Argument   | Type   | Purpose |
|------------|--------|---------|
| **nodeID** | String | The unique identifier for the node. |
| **amount** | UFix64 | The quantity of previously staked FLOW tokens to withdraw. |

## Withdraw Rewarded Tokens

To withdraw rewarded tokens, the node operator must use use transaction [../transactions/#staking-with-stakingproxynodestakerproxy](NO.09):

`stakingProxy/sh_withdraw_rewards.cdc`

Transaction arguments:

| Argument   | Type   | Purpose |
|------------|--------|---------|
| **nodeID** | String | The unique identifier for the node. |
| **amount** | UFix64 | The quantity of rewarded FLOW tokens to withdraw. |

# Teardown

## Remove `NodeInfo` entry

The **node operator** can destroy the `NodeInfo` entry after 
the staking relationship has concluded.

To do this they must use transaction [../transactions/#staking-with-stakingproxynodestakerproxy](NO.03):

`stakingProxy/sh_remove_node_info.cdc`

Transaction arguments:

| Argument   | Type   | Purpose |
|------------|--------|---------|
| **nodeID** | String | The unique identifier for the node. |
