---
title: Flow Staking Contract Reference
sidebar_title: Staking Table
---

# Contract

The `FlowIDTableStaking` contract is the central table that manages staked nodes, delegation and rewards.

Source: [FlowIDTableStaking.cdc](https://github.com/onflow/flow-core-contracts/blob/master/contracts/FlowIDTableStaking.cdc)

| Network | Contract Address     |
|---------|----------------------|
| Testnet | `0x9eca2b38b18b5dfe` |
| Mainnet | `0x8624b52f9ddcd04a` |

# Transactions

## Getting Staking Info

These scripts are read-only and get info about the current state of the staking contract.

| ID        | Name                                   | Source |
|-----------|----------------------------------------|--------|
|**`SC.01`**| Get Delegation Cut Percentage          | [idTableStaking/scripts/get_cut_percentage.cdc](https://github.com/onflow/flow-core-contracts/blob/master/transactions/idTableStaking/scripts/get_cut_percentage.cdc) |
|**`SC.02`**| Get Minimum Stake Requirements         | [idTableStaking/scripts/get_stake_requirements.cdc](https://github.com/onflow/flow-core-contracts/blob/master/transactions/idTableStaking/scripts/get_stake_requirements.cdc) |
|**`SC.03`**| Get Total Weekly Reward Payout         | [idTableStaking/scripts/get_weekly_payout.cdc](https://github.com/onflow/flow-core-contracts/blob/master/transactions/idTableStaking/scripts/get_weekly_payout.cdc) |
|**`SC.04`**| Get Current Staked Node Table          | [idTableStaking/scripts/get_current_table.cdc](https://github.com/onflow/flow-core-contracts/blob/master/transactions/idTableStaking/scripts/get_current_table.cdc) |
|**`SC.05`**| Get Proposed Staked Node Table         | [idTableStaking/scripts/get_proposed_table.cdc](https://github.com/onflow/flow-core-contracts/blob/master/transactions/idTableStaking/scripts/get_proposed_table.cdc) |
|**`SC.06`**| Get Total Flow Staked                  | [idTableStaking/scripts/get_total_staked.cdc](https://github.com/onflow/flow-core-contracts/blob/master/transactions/idTableStaking/scripts/get_total_staked.cdc) |
|**`SC.07`**| Get Total Flow Staked by Node Type     | [idTableStaking/scripts/get_total_staked_by_type.cdc](https://github.com/onflow/flow-core-contracts/blob/master/transactions/idTableStaking/scripts/get_total_staked_by_type.cdc) | 
|**`SC.08`**| Get All Info about a single NodeID     | [idTableStaking/scripts/get_node_info.cdc](https://github.com/onflow/flow-core-contracts/blob/master/transactions/idTableStaking/scripts/get_node_info.cdc) |
|**`SC.09`**| Get a node's total Commitment          | [idTableStaking/scripts/get_node_total_commitment.cdc](https://github.com/onflow/flow-core-contracts/blob/master/transactions/idTableStaking/scripts/get_node_total_commitment.cdc) |
|**`SC.10`**| Get All Info about a single Delegator  | [idTableStaking/delegation/get_delegator_info.cdc](https://github.com/onflow/flow-core-contracts/blob/master/transactions/idTableStaking/delegation/get_delegator_info.cdc) |
|**`SC.26`**| Get Info about a node from an address  | [idTableStaking/scripts/get_node_info_from_address.cdc](https://github.com/onflow/flow-core-contracts/blob/master/transactions/idTableStaking/scripts/get_node_info_from_address.cdc) |
|**`SC.27`**| Get delegator info from an address     | [idTableStaking/delegation/get_delegator_info_from_address.cdc](https://github.com/onflow/flow-core-contracts/blob/master/transactions/idTableStaking/delegation/get_delegator_info_from_address.cdc) |

### Staking

These transactions operate through the `FlowIDTableStaking.NodeStaker` resource.

Please see the [Locked Tokens contract](../locked-tokens/#transactions) for information about staking with locked tokens.

| ID          | Name                    | Source                                                                                                                                                                      |
| ----------- | ----------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **`SC.11`** | Register Node           | [idTableStaking/node/register_node.cdc](https://github.com/onflow/flow-core-contracts/blob/master/transactions/idTableStaking/node/register_node.cdc)                       |                         |
| **`SC.12`** | Stake New Locked FLOW   | [idTableStaking/node/stake_new_tokens.cdc](https://github.com/onflow/flow-core-contracts/blob/master/transactions/idTableStaking/node/stake_new_tokens.cdc)                 |
| **`SC.13`** | Re-stake Unstaked FLOW  | [idTableStaking/node/stake_unstaked_tokens.cdc](https://github.com/onflow/flow-core-contracts/blob/master/transactions/idTableStaking/node/stake_unstaked_tokens.cdc)        |
| **`SC.14`** | Re-stake Rewarded FLOW  | [idTableStaking/node/stake_rewarded_tokens.cdc](https://github.com/onflow/flow-core-contracts/blob/master/transactions/idTableStaking/node/stake_rewarded_tokens.cdc)       |
| **`SC.15`** | Request Unstake of FLOW | [idTableStaking/node/request_unstake.cdc](https://github.com/onflow/flow-core-contracts/blob/master/transactions/idTableStaking/node/request_unstake.cdc)               |
| **`SC.16`** | Unstake All FLOW        | [idTableStaking/node/unstake_all.cdc](https://github.com/onflow/flow-core-contracts/blob/master/transactions/idTableStaking/node/unstake_all.cdc)                           |
| **`SC.17`** | Withdraw Unstaked FLOW  | [idTableStaking/node/withdraw_unstaked_tokens.cdc](https://github.com/onflow/flow-core-contracts/blob/master/transactions/idTableStaking/node/withdraw_unstaked_tokens.cdc) |
| **`SC.18`** | Withdraw Rewarded FLOW  | [idTableStaking/node/withdraw_reward_tokens.cdc](https://github.com/onflow/flow-core-contracts/blob/master/transactions/idTableStaking/node/withdraw_reward_tokens.cdc) |

See the [staking documentation](/core-contracts/flow-id-table-staking) for how to get info about a staked node.

### Delegating

These transactions operate through the `FlowIDTableStaking.NodeDelegator` resource.

Please see the [Locked Tokens contract](../locked-tokens/#transactions) for information about delegating with locked tokens.

| ID          | Name                              | Source                                                                                                                                                                            |
| ----------- | --------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **`SC.19`** | Register Delegator                | [idTableStaking/delegation/register_delegator.cdc](https://github.com/onflow/flow-core-contracts/blob/master/transactions/idTableStaking/delegation/register_delegator.cdc)          |
| **`SC.20`** | Delegate New Locked FLOW          | [idTableStaking/delegation/del_stake_new_tokens.cdc](https://github.com/onflow/flow-core-contracts/blob/master/transactions/idTableStaking/delegation/del_stake_new_tokens.cdc)           |
| **`SC.21`** | Re-delegate Unstaked FLOW         | [idTableStaking/delegation/del_stake_unstaked.cdc](https://github.com/onflow/flow-core-contracts/blob/master/transactions/idTableStaking/delegation/del_stake_unstaked.cdc) |
| **`SC.22`** | Re-delegate Rewarded FLOW         | [idTableStaking/delegation/del_stake_rewarded.cdc](https://github.com/onflow/flow-core-contracts/blob/master/transactions/idTableStaking/delegation/del_stake_rewarded.cdc) |
| **`SC.23`** | Request Unstake of Delegated FLOW | [idTableStaking/delegation/del_request_unstaking.cdc](https://github.com/onflow/flow-core-contracts/blob/master/transactions/idTableStaking/delegation/del_request_unstaking.cdc)               |
| **`SC.24`** | Withdraw Unstaked Delegated FLOW  | [idTableStaking/delegation/del_withdraw_unstaked_tokens.cdc](https://github.com/onflow/flow-core-contracts/blob/master/transactions/idTableStaking/delegation/del_withdraw_unstaked_tokens.cdc) |
| **`SC.25`** | Withdraw Rewarded Delegated FLOW  | [idTableStaking/delegation/del_withdraw_rewarded_tokens.cdc](https://github.com/onflow/flow-core-contracts/blob/master/transactions/idTableStaking/delegation/del_withdraw_rewarded_tokens.cdc) |

See the [staking documentation](/core-contracts/flow-id-table-staking) for how to get info about a staked delegator.

# Events

The `FlowIDTableStaking` contract emits an event whenever an important action occurs.
See the [staking events Documentation](/staking/events) for more information about each event.

```cadence
    pub event NewEpoch(totalStaked: UFix64, totalRewardPayout: UFix64)

    /// Node Events
    pub event NewNodeCreated(nodeID: String, role: UInt8, amountCommitted: UFix64)
    pub event TokensCommitted(nodeID: String, amount: UFix64)
    pub event TokensStaked(nodeID: String, amount: UFix64)
    pub event TokensUnstaking(nodeID: String, amount: UFix64)
    pub event TokensUnstaked(nodeID: String, amount: UFix64)
    pub event NodeRemovedAndRefunded(nodeID: String, amount: UFix64)
    pub event RewardsPaid(nodeID: String, amount: UFix64)
    pub event UnstakedTokensWithdrawn(nodeID: String, amount: UFix64)
    pub event RewardTokensWithdrawn(nodeID: String, amount: UFix64)

    /// Delegator Events
    pub event NewDelegatorCreated(nodeID: String, delegatorID: UInt32)
    pub event DelegatorTokensCommitted(nodeID: String, delegatorID: UInt32, amount: UFix64)
    pub event DelegatorTokensStaked(nodeID: String, delegatorID: UInt32, amount: UFix64)
    pub event DelegatorTokensUnstaking(nodeID: String, delegatorID: UInt32, amount: UFix64)
    pub event DelegatorTokensUnstaked(nodeID: String, delegatorID: UInt32, amount: UFix64)
    pub event DelegatorRewardsPaid(nodeID: String, delegatorID: UInt32, amount: UFix64)
    pub event DelegatorUnstakedTokensWithdrawn(nodeID: String, delegatorID: UInt32, amount: UFix64)
    pub event DelegatorRewardTokensWithdrawn(nodeID: String, delegatorID: UInt32, amount: UFix64)

    /// Contract Field Change Events
    pub event NewDelegatorCutPercentage(newCutPercentage: UFix64)
    pub event NewWeeklyPayout(newPayout: UFix64)
    pub event NewStakingMinimums(newMinimums: {UInt8: UFix64})
```
